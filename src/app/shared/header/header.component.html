
<header #header_width (mouseleave)="triggerLeave()">
    <div class="outline" (mouseenter)="triggerLeave()">

    </div>
    <div class="leftWrapper">
        <div [ngClass]="(header_width.offsetWidth !> '992') ?  'hide_' : 'show_'" class="hambrg_">
            <div class="" (click)="megaMenuClick('mobileclick')" [class.close]="mobileshowMenu == 'in'">
                <div></div>
            </div>
            <!-- <em class="icon-Hamburger"></em> -->
            <!-- <em class="icon-Hamburger" (click)="search_sec()"></em> -->
        </div>
        <figure class="edutechLogo" (click)="homepage(); closeMegaMenu_()" (mouseenter)="triggerLeave()">
            <img src="https://assets.lntedutech.com/edutech_logo.svg"  alt="L&T Logo">
        </figure>
        <div class="megaMenu">
            <button (mouseenter)="megaMenuClick('desktop')"  [class.catalogActive]="showMenu == 'in'">
                <img [src]="showMenu == 'in' ? 'https://lmsassetspremium.lntedutech.com/portalicons/cataloghover.webp' : 'https://lmsassetspremium.lntedutech.com/portalicons/catalogicon.webp'" alt="">
                <span>Courses</span>
                <em [ngClass]="showMenu == 'out' ? 'icon-DownArrow' : 'icon-UpArrow'" ></em>
            </button>
        </div>
        <!-- <nav (mouseenter)="triggerLeave()" [ngClass]="(header_width.offsetWidth > '992') ?  'topMenu' : 'hide_'" [class.topMenu_lap]="menu_tab" *ngIf="showAvatar">
            <ul>
                <li><a [ngClass]="isCourse ? 'activeTab' : ''" (click)="onlineAssessment('course')">My Courses</a></li>
                <li><a [ngClass]="isAssement ? 'activeTab' : ''" (click)="onlineAssessment('assessment')">My Assessment</a></li>
            </ul>
        </nav> -->
        <button class="coursebtn" (click)="gotoCourse()" *ngIf="showAvatar && ispurchased">Go to my courses</button>
    </div>

    <div class="rightWrapper">
        <div *ngIf="!showAvatar" class="mobileLogin">
            <button (click)="mobileclick()"> <span>Login</span> <em class="icon-DownArrow"></em></button>
        </div>
        <div class="signInRegister">
            <!-- <div *ngIf="!showAvatar" class="recruiter">
                <a href="https://unifiedreport.lntedutech.com/login" target="recruiterLogin"><em class="icon-Recruiter"></em> <span>Recruiter? Login here</span></a>
            </div> -->
            <span class="cart" *ngIf="showAvatar">
                <a (click)="openCart(); closeMegaMenu_()">
                <em *ngIf="cartCount == 0" class="icon-Cart"></em>
                <em *ngIf="cartCount != 0" matBadge="{{cartCount}}" matBadgeColor="warn" class="icon-Cart"></em>
            </a></span>
            <ng-container *ngIf="showAvatar">
                <!-- <span class="cart"><a><em class="icon-Bell"></em></a></span> -->
                <div [matMenuTriggerFor]="menu" [matTooltipPosition]="'left'" [matTooltip]="userDetails?.firstname + ' ' + userDetails?.lastname" class="avatar">
                    <span *ngIf="!profImage"><em class="icon-User"></em></span>
                    <figure *ngIf="profImage" class="profImg">
                        <img [src]="profImage + blobToken" alt="" />
                    </figure>
                    <mat-menu #menu="matMenu" class="profileMenu">
                        <div class="profile">
                            <div class="profIcon">
                                <figure class="profImg">
                                    <span class="avatar" *ngIf="!profImage"><em class="icon-User"></em></span>
                                    <img *ngIf="profImage" [src]="profImage + blobToken" alt="" />
                                </figure>
                            </div>
                            <div class="profDesc">
                                <strong>{{userDetails?.firstname + ' ' + userDetails?.lastname}}</strong>
                                <span>{{userDetails?.emailId}}</span>
                                <button (click)="editProfile()">Edit Profile</button>
                            </div>
                        </div>
                        <div class="settings">
                            <!-- <span class="heading">Account</span> -->
                            <div><a   (click)="navigateProfile('account')">Account settings</a></div>
                            <div><a (click)="navigateProfile('history')">Purchase history</a></div>
                            <div><a  (click)="navigateProfile('payment')">Payment methods</a></div>
                        </div>
                        <div class="signout">
                            <a>Help</a>
                            <a class="signOut" (click)="logout()">Sign out</a>
                        </div>
                    </mat-menu>
                </div>
            </ng-container>
            <ng-container *ngIf="!showAvatar">
                <button class="login desktop" (click)="openOnBoard('0'); closeMegaMenu_()">Sign In</button>
                <button class="register" (click)="openOnBoard('1'); closeMegaMenu_()">Register</button>
            </ng-container>
            <div class="aictelogo" [ngClass]="showAvatar ? 'decrease' : 'increase'">
                <figure>
                    <img src="https://lmsassetspremium.lntedutech.com/portalicons/gtulogo.webp" alt="">
                </figure>
            </div>
        </div>
    </div>
    <nav class="menuLevel1 desktopMenu" [@slideInOut]="showMenu" (mouseleave)="triggerLeave()">
        <ng-container *ngIf ="catalogMenu.length == 0">
            <div class="SkeletonWrapper">
                <div class="item1 itemSmall">
                    <ngx-skeleton-loader count="7" [theme]="{ 'border-radius': '5px', height: '30px', 'background-color': '#eff1f6', border: '1px solid white' }"></ngx-skeleton-loader>
                </div>
                <div class="item2 itemSmall">
                    <ngx-skeleton-loader count="7" [theme]="{ 'border-radius': '5px', height: '30px', 'background-color': '#eff1f6', border: '1px solid white' }"></ngx-skeleton-loader>
                </div>
                <div class="item3 itemBig">
                    <ngx-skeleton-loader count="1" [theme]="{ 'border-radius': '5px', width: '200px', height: '30px', 'background-color': '#eff1f6', border: '1px solid white' }"></ngx-skeleton-loader>
                    <ngx-skeleton-loader count="1" [theme]="{ 'border-radius': '5px', height: '30px', 'background-color': '#eff1f6', border: '1px solid white' }"></ngx-skeleton-loader>
                    <div>
                        <ngx-skeleton-loader count="1" [theme]="{ 'border-radius': '5px', width: '150px', height: '30px', 'background-color': '#eff1f6', border: '1px solid white' }"></ngx-skeleton-loader>
                    </div>
                    <div>
                        <ngx-skeleton-loader count="1" [theme]="{ 'border-radius': '5px', width: '150px', height: '30px', 'background-color': '#eff1f6', border: '1px solid white' }"></ngx-skeleton-loader>
                    </div>
                    <div>
                        <ngx-skeleton-loader count="1" [theme]="{ 'border-radius': '5px', width: '150px', height: '30px', 'background-color': '#eff1f6', border: '1px solid white' }"></ngx-skeleton-loader>
                    </div>
                    <div>
                        <ngx-skeleton-loader count="1" [theme]="{ 'border-radius': '5px', width: '150px', height: '30px', 'background-color': '#eff1f6', border: '1px solid white' }"></ngx-skeleton-loader>
                    </div>
                    <div>
                        <ngx-skeleton-loader count="1" [theme]="{ 'border-radius': '5px', width: '150px', height: '30px', 'background-color': '#eff1f6', border: '1px solid white' }"></ngx-skeleton-loader>
                    </div>
                </div>
            </div>
        </ng-container>
        <ng-container *ngIf ="catalogMenu.length > 0">
            <ul class="headtxt_">
                <li>
                    <div class="catalog">Categories</div>
                    <ul>
                        <li>
                            <div class="domain">Courses</div>
                        </li>
                    </ul>
                </li>
            </ul>
            <ul class="menuText">
                <li [ngClass]="level0?.active ? 'secondActive':''" *ngFor="let level0 of catalogMenu[0].data;">
                    <div (mouseenter)="secondLevelHover(megaMenuL1Data,level0)">
                        <span>{{level0.name}}</span>
                        <em class="icon-RightArrow"></em>
                    </div>
                    <ul>
                        <ng-container *ngFor="let level1 of megaMenuL2Data">
                            <li>
                                <div (click)="gotoArea(level1, 'course')">
                                    <img src="/assets/images/civil.png" alt="" />
                                    <span>{{level1.name}}</span>
                                </div>
                            </li>
                        </ng-container>
                        <ng-container *ngIf="megaMenuL2Data.length == 0">
                            <div class="noCategories">
                                <figure>
                                    <img src="https://lmsassetspremium.lntedutech.com/portalicons/path.webp" alt="" />
                                </figure>
                                <p>No Categories Found</p>
                            </div>
                        </ng-container>
                    </ul>
                </li>
            </ul>
            <!-- <ul class="menuText">
                <li *ngFor="let level0 of catalogMenu;" [ngClass]="level0.active ? 'firstActive':''">
                    <div class="firstLevel" (mouseenter)="firstLevelHover(catalogMenu,level0)">
                        <span class="icon">
                            <em [class]="level0?.icon"></em>
                        </span>
                        <span class="content">
                            <span>{{level0.label}}</span>
                            <p>{{level0.desc}}</p>
                        </span>
                        <span class="arrow"></span>
                    </div>
                    <ul>
                        <ng-container *ngFor="let level1 of megaMenuL1Data">
                            <li [ngClass]="level1?.active ? 'secondActive':''">
                                <div (mouseenter)="secondLevelHover(megaMenuL1Data,level1)">
                                    <span (click)="catalogHome(level1.cid,level0.type)">{{level1.name}}</span>
                                    <em class="icon-RightArrow"></em>
                                </div>
                                <ul>
                                    <ng-container *ngFor="let level2 of megaMenuL2Data">
                                        <li>
                                            <div (click)="gotoArea(level2,level0.type)">
                                                <img [src]="level2?.areaicon" alt="" />
                                                <span>{{level2.name}}</span>
                                            </div>
                                        </li>
                                    </ng-container>
                                </ul>
                            </li>
                        </ng-container>
                    </ul>
                </li>
            </ul> -->
        </ng-container>
    </nav>
</header>

<div class="mobileRegister" [@mobileslideInOut]="registerMenu">
    <div>
        <div class="closeIcon"><em class="icon-Close" (click)="closeMegaMenu_()"></em></div>
        <ng-container *ngIf="!showAvatar">
            <span class="signIn"><a  (click)="openOnBoard('0'); closeMegaMenu_()">Sign In</a></span>
            <span class="register" (click)="openOnBoard('1'); closeMegaMenu_()">Register</span>
        </ng-container>
        <!-- <div *ngIf="!showAvatar" class="recruiter">
            <a href="https://unifiedreport.lntedutech.com/login" target="recruiterLogin">
                <em class="icon-Recruiter"></em> 
                <span>Recruiter? Login here</span>
            </a>
        </div> -->
    </div>
</div>

<mat-menu class="menuCustomClass" #menu="matMenu" >
    <button mat-menu-item>Check My Score</button>
    <button mat-menu-item>Download My Certificate</button>
    <button mat-menu-item (click)="getFAQ()">FAQ</button>
</mat-menu>

<nav class="mobileMegamenu mobilemenu" [@mobileslideInOut]="mobileshowMenu">
    <ng-container *ngIf ="catalogMenu.length > 0">
        <!-- <ng-container *ngIf="l1.length > 0 && l2.length <= 0 && l3.length <= 0 && l4.length <= 0">
            <div class="firstLevelWrapper">
                <div class="mobilemenuHeader first">
                    <div class="backArrow"><em class="icon-Back"></em></div>
                    <span class="headingStyle">Menu</span>
                    <div class="closeIcon"><em class="icon-Close" (click)="closeMegaMenu_()"></em></div>
                </div>
                <nav class="topMenuMobile" *ngIf="showAvatar">
                    <a [ngClass]="isCourse ? 'activeTab' : ''" (click)="onlineAssessment('course')">My Course</a>
                    <a [ngClass]="isAssement ? 'activeTab' : ''" (click)="onlineAssessment('assessment')">My Assessment</a>
                </nav>
                <div class="fisrtLevel commonSyle">
                    <span class="header-txt">Catalog</span>
                    <ul>
                        <li *ngFor="let item of l1">
                            <a (click)="firstlevelClick(item)">
                                <span class="icon">
                                    <em [class]="item.icon"></em>
                                </span>
                                <span class="content">
                                    <span>{{item.label}}</span>
                                    <p>{{item.desc}}</p>
                                    <span class="arrow">
                                        <em class="icon-RightArrow"></em>
                                    </span>
                                </span>
                            </a>
                        </li>
                    </ul>
                </div>
            </div>
        </ng-container> -->
        <ng-container *ngIf="l1.length > 0 && l2.length > 0 && l3.length <= 0 && l4.length <= 0">
            <div class="secondLevelWrapper">
                <div class="mobilemenuHeader">
                    <div class="backArrow"><em class="icon-Back"></em></div>
                    <span class="headingStyle">Menu</span>
                    <!-- <div class="headingStyle">{{l1name}}</div> -->
                    <div class="closeIcon"><em class="icon-Close" (click)="closeMegaMenu_()"></em></div>
                </div>
                <nav class="topMenuMobile" *ngIf="showAvatar">
                    <a [ngClass]="isCourse ? 'activeTab' : ''" (click)="onlineAssessment('course')">My Courses</a>
                </nav>
                <div class="secondLevel commonSyle">
                    <span class="header-txt">Categories</span>
                    <ul>
                        <li *ngFor="let item of l2">
                            <a>
                                <span (click)="catalogHome(item.cid,productType)">{{item.name}}</span>
                                <em class="icon-RightArrow" (click)="secondlevelclick(item)"></em>
                            </a>
                        </li>
                    </ul>
                </div>
            </div>
        </ng-container>
        <ng-container *ngIf="l1.length > 0 && l2.length > 0 && l3.length > 0 && l4.length <= 0">
            <div class="thirdLevelWrapper">
                <div class="mobilemenuHeader">
                    <div class="backArrow"><em (click)="l3 = []" class="icon-Back"></em></div>
                    <div class="headingStyle">{{l2name}}</div>
                    <div class="closeIcon"><em class="icon-Close" (click)="closeMegaMenu_()"></em></div>
                </div>
                <div class="thirdlevel commonSyle">
                    <span class="header-txt">Courses</span>
                    <ul>
                        <li *ngFor="let item of l3">
                            <a>
                                <div (click)="gotoArea(item,productType)">
                                    <img src="/assets/images/civil.png" alt="" />
                                    <span>{{item.name}}</span>
                                </div>
                            </a>
                        </li>
                    </ul>
                </div>
            </div>
        </ng-container>
    </ng-container>
</nav>